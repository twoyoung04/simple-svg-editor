(()=>{"use strict";var t={424:(t,e,n)=>{n.d(e,{Z:()=>l});var o=n(537),r=n.n(o),i=n(645),s=n.n(i),a=n(667),c=n.n(a),h=new URL(n(806),n.b),u=s()(r()),p=c()(h);u.push([t.id,"html,\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n.cursor-crosshair {\n  cursor: crosshair;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.cursor-default {\n  cursor: default;\n}\n.cursor-grab {\n  cursor: grab;\n}\n.cursor-resize {\n  cursor: nwse-resize;\n}\n.cursor-move {\n  cursor: move;\n}\n.cursor-rotate {\n  cursor: url("+p+"), url("+p+") 5 5, progress;\n}\n","",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA;;EAEE,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,iBAAiB;AACnB;AACA;EACE,eAAe;AACjB;AACA;EACE,eAAe;AACjB;AACA;EACE,YAAY;AACd;AACA;EACE,mBAAmB;AACrB;AACA;EACE,YAAY;AACd;AACA;EACE,sGAAsD;AACxD",sourcesContent:["html,\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n.cursor-crosshair {\n  cursor: crosshair;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.cursor-default {\n  cursor: default;\n}\n.cursor-grab {\n  cursor: grab;\n}\n.cursor-resize {\n  cursor: nwse-resize;\n}\n.cursor-move {\n  cursor: move;\n}\n.cursor-rotate {\n  cursor: url(rotate.svg), url(rotate.svg) 5 5, progress;\n}\n"],sourceRoot:""}]);const l=u},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var h=0;h<t.length;h++){var u=[].concat(t[h]);o&&s[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},537:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(r," */"),s=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(s).concat([i]).join("\n")}return[e].join("\n")}},379:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var i={},s=[],a=0;a<t.length;a++){var c=t[a],h=o.base?c[0]+o.base:c[0],u=i[h]||0,p="".concat(h," ").concat(u);i[h]=u+1;var l=n(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==l)e[l].references++,e[l].updater(f);else{var d=r(f,o);o.byIndex=a,e.splice(a,0,{identifier:p,updater:d,references:1})}s.push(p)}return s}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=o(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var a=n(i[s]);e[a].references--}for(var c=o(t,r),h=0;h<i.length;h++){var u=n(i[h]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=c}}},569:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},806:(t,e,n)=>{t.exports=n.p+"a3ce6a82010daf190ae5.svg"}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o](i,i.exports,n),i.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.p="/simple-svg-editor",n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var t,e=function(){function t(t,e){this._x=t,this._y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mod",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!1,configurable:!0}),t.ones=function(){return new t(1,1)},t.zeros=function(){return new t(0,0)},t.prototype.add=function(t){return this._x+=t.x,this._y+=t.y,this},t.prototype.subtract=function(t){return this._x-=t.x,this._y-=t.y,this},t.prototype.dotMultiply=function(t){return this._x*=t.x,this._y*=t.y,this},t.prototype.crossMultiply=function(t){return this._x*t.y-this._y*t.x},t.prototype.angle=function(t){return Math.acos(Math.min((this._x*t.x+this._y*t.y)/this.mod/t.mod,1))},t.prototype.distance=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.rotateAtOrigin=function(t){var e=[this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t)],n=e[0],o=e[1];return this.x=n,this.y=o,this},t.prototype.applyTransform=function(t){var e=t.a,n=t.b,o=t.c,r=t.d,i=t.e,s=t.f,a=[e*this.x+o*this.y+i,n*this.x+r*this.y+s],c=a[0],h=a[1];return this.x=c,this.y=h,this},t.prototype.opposite=function(){return new t(-this._x,-this._y)},t.prototype.clone=function(){return new t(this.x,this.y)},t}(),o=function(){function t(t,e,n,o){this.x=t,this.y=e,this.w=n,this.h=o}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this._h},set:function(t){this._h=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x+this._w},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y+this._h},enumerable:!1,configurable:!0}),t.prototype.set=function(t){this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h},t.prototype.set4=function(t,e,n,o){this.x=t,this.y=e,this.w=n,this.h=o},t.prototype.setSize=function(t,e){this.w=t,this.h=e},t.prototype.clone=function(){return new t(this.x,this.y,this._w,this._h)},t.prototype.merge=function(t){},t.mergeAll=function(e){if(0==e.length)return null;if(1==e.length)return e[0];var n=Math.min.apply(Math,e.map((function(t){return t.x}))),o=Math.max.apply(Math,e.map((function(t){return t.x+t.w}))),r=Math.min.apply(Math,e.map((function(t){return t.y})));return new t(n,r,o-n,Math.max.apply(Math,e.map((function(t){return t.y+t.h})))-r)},t.prototype.center=function(){return new e(this.x+this.w/2,this.y+this.h/2)},t.prototype.toVector2=function(){return[new e(this.x,this.y),new e(this.x,this.y2),new e(this.x2,this.y2),new e(this.x2,this.y)]},t}(),r=function(){function t(){}return t.Error=function(t){console.error(t)},t.blue=function(t){console.info("%c "+t,"color:blue;")},t.red=function(t){console.info("%c "+t,"color:red;")},t}(),i=function(){function t(t,e,n,o,r,i){this.a=t,this.b=e,this.c=n,this.d=o,this.e=r,this.f=i}return Object.defineProperty(t.prototype,"rotation",{get:function(){var t=Math.acos(this.a/Math.sqrt(this.a*this.a+this.c*this.c));return this.c>0?2*Math.PI-t:t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotationTransform",{get:function(){return t.fromAngle(this.rotation)},enumerable:!1,configurable:!0}),t.identity=function(){return new t(1,0,0,1,0,0)},t.from=function(e){return new t(e.a,e.b,e.c,e.d,e.e,e.f)},t.fromAngle=function(e){return new t(Math.cos(e),Math.sin(e),-Math.cos(e),Math.sin(e),0,0)},t.prototype.set=function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,this.f=t.f},t.prototype.setFromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[2],this.d=t[3],this.e=t[4],this.f=t[5]},t.prototype.copy=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,this.f=t.f,this},t.prototype.clone=function(){return t.from(this)},t.prototype.reset=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this},t.prototype.translate=function(t){return this.translate2(t.x,t.y)},t.prototype.translate2=function(t,e){return this.e+=t,this.f+=e,this},t.prototype.rotateAtOrigin=function(e){var n=[Math.sin(e),Math.cos(e)],o=n[0],r=n[1];return this.rightMultiply(new t(r,o,-o,r,0,0))},t.prototype.rotate=function(t,n){return this.translate(e.zeros().subtract(n)).rotateAtOrigin(t).translate(n)},t.prototype.scale=function(e,n,o){return this.copy(t.identity().translate(o.opposite()).scaleAtOrigin(e,n).translate(o).rightMultiply(this))},t.prototype.scale2=function(t,e,n){return this.translate(n.opposite()).scale2AtOrigin(t,e).translate(n)},t.prototype.scale2AtOrigin=function(e,n){return this.rightMultiply(new t(e,0,0,n,0,0))},t.prototype.scaleAtOrigin=function(t,e){return this.a*=t,this.e*=t,this.d*=e,this.f*=e,this},t.prototype.flipY=function(){var e=this,n=e.a,o=e.b,r=e.c,i=e.d,s=e.e,a=e.f,c=[.5,.5],h=c[0],u=c[1],p=[n*h+r*u+s,o*h+i*u+a][0];return this.rightMultiply(new t(-1,0,0,1,0,0)).translate2(2*p,0),this},t.prototype.rightMultiply=function(t){var e=t.a*this.a+t.c*this.b,n=t.b*this.a+t.d*this.b,o=t.a*this.c+t.c*this.d,r=t.b*this.c+t.d*this.d,i=t.a*this.e+t.c*this.f+t.e,s=t.b*this.e+t.d*this.f+t.f;return this.a=e,this.b=n,this.c=o,this.d=r,this.e=i,this.f=s,this},t.prototype.leftMultiply=function(t){},t.prototype.inverse=function(){var e=this,n=e.a,o=e.b,r=e.c,i=e.d,s=e.e,a=e.f,c=n*i-o*r;return new t(i/c,-o/c,-r/c,n/c,(r*a-i*s)/c,(o*s-n*a)/c)},t.prototype.cssString=function(){return"matrix(".concat(this.a,",").concat(this.b,",").concat(this.c,",").concat(this.d,",").concat(this.e,",").concat(this.f,")")},t}(),s=function(){function t(t,e){this.box=t,this.transform=e}return Object.defineProperty(t.prototype,"box",{get:function(){return this._box},set:function(t){this._box=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transform",{get:function(){return this._transform},set:function(t){this._transform=t},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.box.clone(),this.transform.clone())},t.prototype.include=function(t){var e=t.clone().applyTransform(this._transform.inverse());return e.x<this.box.x2&&e.x>this.box.x&&e.y<this.box.y2&&e.y>this.box.y},t.prototype.nearestCornerDistance=function(t){var n=this;return[new e(this.box.x,this.box.y),new e(this.box.x,this.box.y2),new e(this.box.x2,this.box.y2),new e(this.box.x2,this.box.y)].map((function(t){return t.applyTransform(n._transform)})).map((function(e){return e.distance(t)}))},t.prototype.center=function(){return this.box.center().clone().applyTransform(this.transform)},t}(),a="http://www.w3.org/2000/svg",c=function(t,e){var n=t.createElementNS(a,"svg");if(e)return Object.keys(e).forEach((function(t){n.setAttribute(t,e[t])})),n},h=function(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))},u=1e5,p=function(){function t(t,e,n,r){this.id="node-"+u++,this.transform=i.identity(),this.transform.a=n,this.transform.d=r,this.transform.translate2(t,e),this.board=window.board,this.AABB=new o(t,e,n,r),this.area=new s(new o(0,0,1,1),this.transform),this.zIndex=0,this.board.eventEmitter.on("createSart",this.onCreateStart.bind(this)),this.board.eventEmitter.on("creating",this.onCreating.bind(this)),this.board.eventEmitter.on("createEnd",this.onCreateEnd.bind(this))}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this._area},set:function(t){this._area=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"domInstance",{get:function(){return this._domInstance||this.createDomInstance(),this._domInstance},set:function(t){this._domInstance=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frameWidth",{get:function(){return this.transform.a},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frameHeight",{get:function(){return this.transform.d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transform",{get:function(){return this._transform},set:function(t){this._transform=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"AABB",{get:function(){return this._AABB},set:function(t){this._AABB=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"points",{get:function(){return this._points},set:function(t){this._points=t},enumerable:!1,configurable:!0}),t.prototype.onCreateStart=function(){},t.prototype.onCreating=function(){r.blue("on creating in baseelement"),this.board.selection[0]},t.prototype.onCreateEnd=function(){},t.prototype.updatePoints=function(){var t=this,e=this.area.box.toVector2();this.points=e.map((function(e){return e.applyTransform(t.transform)}))},t.prototype.updateAABB=function(){var t=Math.min.apply(Math,this.points.map((function(t){return t.x}))),e=Math.min.apply(Math,this.points.map((function(t){return t.y}))),n=Math.max.apply(Math,this.points.map((function(t){return t.x}))),o=Math.max.apply(Math,this.points.map((function(t){return t.y})));this.AABB.set4(t,e,n-t,o-e)},t}(),l="#d9d9d9",f=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),d=function(t){function e(e,n,o,r){var i=t.call(this,e,n,o,r)||this;return i.attr={cx:0,cy:0,rx:.5,ry:.5},i}return f(e,t),e.prototype.createDomInstance=function(){var t=document.createElementNS(a,"ellipse");h(t,this.attr),h(t,{fill:l}),this._domInstance=t},e.prototype.updateAttr=function(){this.attr={cx:0,cy:0,rx:.5,ry:.5}},e.prototype.updateRendering=function(){this.updateAttr(),this.updatePoints(),this.updateAABB(),h(this._domInstance,this.attr);var t=new i(1,0,0,1,.5,.5).rightMultiply(this._transform),e=t.a,n=t.b,o=t.c,r=t.d,s=t.e,a=t.f;h(this._domInstance,{transform:"matrix(".concat(e,",").concat(n,",").concat(o,",").concat(r,",").concat(s,",").concat(a,")")})},e.prototype.onCreateStart=function(){},e.prototype.onCreating=function(){},e.prototype.onCreateEnd=function(){},e}(p),m=function(){function t(){this.callbacks={}}return t.prototype.on=function(t,e){return void 0===t||""===t?(console.warn("wrong names"),!1):void 0===e?(console.warn("wrong callback"),!1):((this.callbacks[t]||(this.callbacks[t]=[])).push(e),this)},t.prototype.off=function(t){return void 0===t||""===t?(console.warn("wrong name"),!1):(this.callbacks[t]instanceof Array&&delete this.callbacks[t],this)},t.prototype.trigger=function(t,e){var n=this;if(void 0===t||""===t)return console.warn("wrong name"),!1;var o=e instanceof Array?e:[];this.callbacks[t]&&this.callbacks[t].forEach((function(t){t.apply(n,o)}))},t}(),y=function(){function t(t,e){this.name=t,this.mouseEvent=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseEvent",{get:function(){return this._mouseEvent},set:function(t){this._mouseEvent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customData",{get:function(){return this._customData},set:function(t){this._customData=t},enumerable:!1,configurable:!0}),t}(),g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),v=function(t){function e(e,n,o,r){var i=t.call(this,e,n,o,r)||this;return i.attr={x:0,y:0,width:1,height:1},i}return g(e,t),e.prototype.createDomInstance=function(){var t=document.createElementNS(a,"rect");h(t,this.attr),h(t,{fill:l}),this._domInstance=t},e.prototype.updateAttr=function(){this.attr.width=this.frameWidth,this.attr.height=this.frameHeight},e.prototype.updateRendering=function(){this.updatePoints(),this.updateAABB();var t=this._transform,e=t.a,n=t.b,o=t.c,r=t.d,i=t.e,s=t.f;h(this._domInstance,{transform:"matrix(".concat(e,",").concat(n,",").concat(o,",").concat(r,",").concat(i,",").concat(s,")")})},e.prototype.onCreating=function(){this.updateAABB()},e}(p);const b="#009aff";var E=function(){function t(t){this.board=t,this.eventEmitter=this.board.eventEmitter,this.board.eventEmitter.on("mouseDown",this.onMouseDown.bind(this)),this.board.eventEmitter.on("mouseMove",this.onMouseMove.bind(this)),this.board.eventEmitter.on("mouseUp",this.onMouseUp.bind(this))}return t.prototype.onMouseDown=function(t){},t.prototype.onMouseMove=function(t){},t.prototype.onMouseUp=function(t){},t}(),_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),A=function(){return A=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},A.apply(this,arguments)},S=function(t){function n(e){var n=t.call(this,e)||this;n.board=e,n.container=e.svgroot,n.selectorRoot=e.svgdoc.createElementNS(a,"g"),n.selectRect=e.svgdoc.createElementNS(a,"rect"),n.activeGroup=e.svgdoc.createElementNS(a,"g"),n.selectorRoot.append(n.activeGroup),n.activeMap=new Map,n.manuplator=e.svgdoc.createElementNS(a,"g"),n.selectorRoot.append(n.manuplator),h(n.manuplator,{display:"none"}),n.manuplatorRect=e.svgdoc.createElementNS(a,"path"),h(n.manuplatorRect,{fill:"none","stroke-width":2.5,stroke:b}),n.manuplator.append(n.manuplatorRect),n.manuplatorPoints=e.svgdoc.createElementNS(a,"g"),n.manuplator.append(n.manuplatorPoints);for(var r=0;r<4;r++){var c=e.svgdoc.createElementNS(a,"path");h(c,{fill:"#fcfcfc","stroke-width":1.5,stroke:b}),n.manuplatorPoints.append(c)}return n.lastSelectedNum=0,n.selectArea=new s(new o(0,0,1,1),i.identity()),h(n.selectRect,{fill:"#f00",stroke:"#66c","stroke-width":"0.5","fill-opacity":"0.15",display:"none"}),n.selectorRoot.append(n.selectRect),n.container.append(n.selectorRoot),e.eventEmitter.on("selectStart",n.onSelectStart.bind(n)),e.eventEmitter.on("selectMove",n.onSelectMove.bind(n)),e.eventEmitter.on("selectEnd",n.onSelectEnd.bind(n)),e.eventEmitter.on("elementSelected",n.onElemetSelected.bind(n)),e.eventEmitter.on("nothingSelected",n.onNothingSelected.bind(n)),e.eventEmitter.on("creating",n.onCreating.bind(n)),e.eventEmitter.on("draging",n.onDraging.bind(n)),e.eventEmitter.on("rotating",n.onRotating.bind(n)),e.eventEmitter.on("scaling",n.onScaling.bind(n)),n}return _(n,t),n.prototype.onSelectStart=function(t){h(this.selectRect,{display:"inline"})},n.prototype.onSelectMove=function(t){var e=this,n=Math.min(t.customData.startX,t.customData.endX),o=Math.min(t.customData.startY,t.customData.endY),r=Math.abs(t.customData.endX-t.customData.startX),i=Math.abs(t.customData.endY-t.customData.startY);h(this.selectRect,{x:n,y:o,width:r,height:i}),this.selectArea.box.x=n,this.selectArea.box.y=o,this.selectArea.box.w=r,this.selectArea.box.h=i;var s=[];this.board.elements.forEach((function(t){t.points.find((function(t){return e.selectArea.include(t)}))&&s.push(t)})),this.lastSelectedNum!=s.length&&(this.board.setSelected(s),this.lastSelectedNum=s.length)},n.prototype.onSelectEnd=function(t){this.selectRect.setAttribute("display","none"),this.selectRect.setAttribute("width","0"),this.selectRect.setAttribute("height","0")},n.prototype.onElemetSelected=function(t){this.updateRender()},n.prototype.onNothingSelected=function(t){this.activeMap.forEach((function(t){return h(t,{display:"none"})})),h(this.manuplator,{display:"none"})},n.prototype.onDragStart=function(t){},n.prototype.onCreateStart=function(t){},n.prototype.onCreating=function(t){this.onElemetSelected(t)},n.prototype.onDraging=function(t){this.onElemetSelected(t)},n.prototype.onRotating=function(t){this.updateRender()},n.prototype.onScaling=function(t){this.updateRender()},n.prototype.onElementCreateing=function(t){var e=this.board.selection;if(e&&1===e.length){var n=e[0],o=n.transform,r={x:0,y:0,width:n.frameWidth,height:n.frameHeight};h(this.activeMap.get(e[0].id),A({transform:o.cssString(),display:"inline"},r))}},n.prototype.updateSelector=function(){},n.prototype.updateRender=function(){this.clear();var t=this.board.selection;if(t){for(var n=function(t){var n=t.transform;if(!o.activeMap.has(t.id)){var r=o.board.svgdoc.createElementNS(a,"path");o.activeMap.set(t.id,r),o.activeGroup.append(r),h(r,{id:t.id,fill:"none",stroke:b,"stroke-width":"2.5","fill-opacity":"0.15",display:"none"})}var i=[e.zeros(),new e(0,1),e.ones(),new e(1,0)];i.forEach((function(t){return t.applyTransform(n)}));var s="M"+i.map((function(t){return t.x+","+t.y})).join("L")+"Z";h(o.activeMap.get(t.id),{display:"inline",d:s})},o=this,r=0,i=t;r<i.length;r++)n(i[r]);if(1===t.length){h(this.manuplator,{display:"inline"});var s=(c=t[0].area.box).toVector2();s.forEach((function(e){return e.applyTransform(t[0].transform)})),h(this.manuplatorRect,{display:"none"}),Array.from(this.manuplatorPoints.children).forEach((function(e,n){h(e,{d:M(s[n].x,s[n].y,6,t[0].transform.rotation)})}))}else if(t.length>=2){h(this.manuplator,{display:"inline"}),h(this.manuplatorRect,{display:"inline"});var c,u=(c=this.board.selectionArea.box).toVector2(),p="M".concat(c.x,",").concat(c.y,"L").concat(c.x,",").concat(c.y2,"L").concat(c.x2,",").concat(c.y2,"L").concat(c.x2,",").concat(c.y,"Z");h(this.manuplator.children[0],{d:p}),Array.from(this.manuplatorPoints.children).forEach((function(t,e){h(t,{d:M(u[e].x,u[e].y,6)})}))}}},n.prototype.clear=function(){this.activeMap.forEach((function(t){return h(t,{display:"none"})}))},n}(E);function M(t,n,o,r){var s=[new e(t-o/2,n-o/2),new e(t-o/2,n+o/2),new e(t+o/2,n+o/2),new e(t+o/2,n-o/2)];return r&&s.forEach((function(o){return o.applyTransform(i.identity().rotate(r,new e(t,n)))})),"M"+s.map((function(t){return t.x+","+t.y})).join("L")+"Z"}var w,x,C,T,D,O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),R=function(t){function n(e){var n=t.call(this,e)||this;return n._cachedEvent=new y("mouseStatusChange",null),n._cachedEvent.customData={},n.eventEmitter.on("mouseStatusChange",n.onMouseStatusChange.bind(n)),n}return O(n,t),Object.defineProperty(n.prototype,"cornerType",{get:function(){return this._cornerType},set:function(t){this._cornerType=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mouseStatus",{get:function(){return this._mouseStatus},set:function(t){this._mouseStatus!==t&&(this._mouseStatus=t,this._cachedEvent.customData.mouseStatus=t,this.eventEmitter.trigger("mouseStatusChange",[this._cachedEvent]))},enumerable:!1,configurable:!0}),n.prototype.onMouseDown=function(t){r.blue("mouse down in MouseStatusManager...")},n.prototype.onMouseMove=function(t){this.updateMouseStatus(t)},n.prototype.onMouseUp=function(t){},n.prototype.onMouseStatusChange=function(t){switch(t.customData.mouseStatus){default:case T.DRAG:this.board.container.className="";break;case T.ROTATE:this.board.container.className="cursor-rotate";break;case T.SCALE:this.board.container.className="cursor-resize"}},n.prototype.updateMouseStatus=function(t){if(!this.board.selection||this.board.selection.length<1)return!1;var n=t.customData,o=n.x,r=n.y,i=this.board.selectionArea.nearestCornerDistance(new e(o,r)),s=1/0,a=-1;switch(i.forEach((function(t,e){t<s&&(s=t,a=e)})),a){case 0:this.cornerType=D.LT;break;case 1:this.cornerType=D.LB;break;case 2:this.cornerType=D.RB;break;case 3:this.cornerType=D.RT}this.mouseStatus=s<5?T.SCALE:s<10?T.ROTATE:T.SELECT},n}(E),L=function(){return L=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},L.apply(this,arguments)},P=function(){function t(t){var e=this;this.boardX=0,this.boardY=0,this.MouseDown=!1,this.mouseStartX=0,this.mouseStartY=0,this.lastZIndex=0,this.saveOptions={},this.selection=[],this.selectionArea=new s(new o(0,0,1,1),i.identity()),this.plugins=[],this.currentMode=w.SELECT,this.currentResizeMode=C.CASUAL,this.rubberBox=null,this.curBBoxes=[],this.curConfig={dimensions:[800,600]},this.elements=[],this.selectionTransforms=[],this._eventEmitter=new m,this._cachedEvent=new y("",null),this.mouseStatusManager=new R(this),this.container=t,this.svgdoc=document,this.updateBoardPosition(),this.svgroot=this.svgdoc.createElementNS(a,"svg");var n={xmlns:"http://www.w3.org/2000/svg",id:"svgroot",xlinks:"http://www.w3.org/1999/xlink",width:this.curConfig.dimensions[0],height:this.curConfig.dimensions[1],overflow:"visible"};Object.keys(n).forEach((function(t){e.svgroot.setAttribute(t,n[t])}));var r={id:"svgBg",width:this.curConfig.dimensions[0],height:this.curConfig.dimensions[1],stroke:"#000",fill:"#fbfbfb",style:"pointer-events: none"};this.canvasBg=c(this._svgdoc,r);var h=this.svgdoc.createElementNS(a,"rect"),u={id:"blabla",width:"100%",height:"100%",stroke:"#000",fill:"#f8f8f8",style:"pointer-events: none",x:0,y:0};Object.keys(u).forEach((function(t){h.setAttribute(t,u[t])})),this.canvasBg.append(h),this.svgcontent=c(this.svgdoc,L(L({},n),{id:"svgcontent"})),this.svgroot.append(this.canvasBg),this.svgroot.append(this.svgcontent),this.container.append(this.svgroot),this.initSelector(),this.initEventHandler(),this.initCustomEventHandler(),window.board=this}return Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(t){this._selection=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionArea",{get:function(){return this._selectionArea},set:function(t){this._selectionArea=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},set:function(t){this._elements=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventEmitter",{get:function(){return this._eventEmitter},set:function(t){this._eventEmitter=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"svgdoc",{get:function(){return this._svgdoc},set:function(t){this._svgdoc=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"svgroot",{get:function(){return this._svgroot},set:function(t){this._svgroot=t},enumerable:!1,configurable:!0}),t.prototype.initSelector=function(){this.selector=new S(this)},t.prototype.initEventHandler=function(){var t=this;this.container.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.container.addEventListener("mouseup",this.handleMouseUp.bind(this)),this.container.addEventListener("click",this.handleClick.bind(this)),this.container.addEventListener("dblclick",this.handleDBClick.bind(this)),this.container.addEventListener("mousemove",this.handleMouseMove.bind(this)),document.addEventListener("resize",(function(){t.updateBoardPosition()})),this.container.addEventListener("keydown",this.handleKeyDown.bind(this))},t.prototype.initCustomEventHandler=function(){this._eventEmitter.on("selectStart",this.onSelectStart.bind(this)),this._eventEmitter.on("createElement",this.onCreateElement.bind(this)),this._eventEmitter.on("creating",this.onCreateMove.bind(this)),this._eventEmitter.on("createEnd",this.onCreateEnd.bind(this)),this._eventEmitter.on("changeMode",this.onChangeMode.bind(this)),this._eventEmitter.on("dragStart",this.onDragStart.bind(this)),this._eventEmitter.on("draging",this.onDraging.bind(this)),this._eventEmitter.on("dragEnd",this.onDragEnd.bind(this)),this._eventEmitter.on("rotateStart",this.onRotateStart.bind(this)),this._eventEmitter.on("rotating",this.onRotating.bind(this)),this._eventEmitter.on("rotateEnd",this.onRotateEnd.bind(this)),this._eventEmitter.on("scaleStart",this.onScaleStart.bind(this)),this._eventEmitter.on("scaling",this.onScaling.bind(this)),this._eventEmitter.on("scaleEnd",this.onScaleEnd.bind(this)),this._eventEmitter.on("mouseStatusChange",this.onMouseStatusChange.bind(this)),this._eventEmitter.on("mouseDown",this.onMouseDown.bind(this)),this._eventEmitter.on("mouseMove",this.onMouseMove.bind(this)),this._eventEmitter.on("mouseUp",this.onMouseUp.bind(this))},t.prototype.updateBoardPosition=function(){var t=this.container.getBoundingClientRect();this.boardX=t.x,this.boardY=t.y},t.prototype.exportSvg=function(){return""},t.prototype.setSelected=function(t){console.log(t),this.selection=t;var e="elementSelected";t&&0!=t.length?(this.updateSelectionArea(),this._cachedEvent.customData={elements:t,area:this.selectionArea}):e="nothingSelected",this._eventEmitter.trigger(e,[this._cachedEvent])},t.prototype.setMode=function(t){this.currentMode=t,this._cachedEvent.customData={mode:t},this._eventEmitter.trigger("changeMode",[this._cachedEvent])},t.prototype.updateSelectionArea=function(){var t=this.selection;1==t.length?(this.selectionArea.transform=t[0].transform.clone(),this.selectionArea.box=new o(0,0,1,1)):(this.selectionArea.transform.reset(),this.selectionArea.box=o.mergeAll(t.map((function(t){return t.AABB}))))},t.prototype.handleMouseDown=function(t){this.mouseStartX=t.clientX-this.boardX,this.mouseStartY=t.clientY-this.boardY,this._cachedEvent.mouseEvent=t,this._cachedEvent.customData||(this._cachedEvent.customData={}),this._cachedEvent.customData.x=this.mouseStartX,this._cachedEvent.customData.y=this.mouseStartY,this._eventEmitter.trigger("mouseDown",[this._cachedEvent])},t.prototype.handleMouseMove=function(t){var e=[t.clientX-this.boardX,t.clientY-this.boardY],n=e[0],o=e[1];this._cachedEvent.mouseEvent=t,this._cachedEvent.customData||(this._cachedEvent.customData={}),this._cachedEvent.customData.x=n,this._cachedEvent.customData.y=o,this._eventEmitter.trigger("mouseMove",[this._cachedEvent])},t.prototype.handleMouseUp=function(t){this._cachedEvent.mouseEvent=t,this._cachedEvent.customData.x=t.clientX-this.boardX,this._cachedEvent.customData.y=t.clientY-this.boardY,this._eventEmitter.trigger("mouseUp",[this._cachedEvent])},t.prototype.handleClick=function(t){},t.prototype.handleDBClick=function(t){},t.prototype.handleKeyDown=function(t){switch(t.key){case"r":this.setMode(w.CREATE),this.currentCreateMode=x.RECT;break;case"o":this.setMode(w.CREATE),this.currentCreateMode=x.ELLIPSE;break;case"l":this.setMode(w.CREATE),this.currentCreateMode=x.LINE;break;case"v":this.setMode(w.SELECT),this.currentCreateMode=x.LINE}},t.prototype.onMouseDown=function(t){if(console.log("function onMouseDown..."),this.MouseDown=!0,this.currentMode===w.CREATE)return this._cachedEvent.name="createElement",this._cachedEvent.customData={type:this.currentCreateMode,startX:this.mouseStartX,startY:this.mouseStartY},void this._eventEmitter.trigger("createElement",[this._cachedEvent]);console.log("not create mode..."),this.mouseStatusManager.mouseStatus!=T.ROTATE?(console.log("not rotate mode..."),this.mouseStatusManager.mouseStatus!=T.SCALE?(console.log("not scale mode..."),this.selection&&this.selection.length>=1&&this.clickOnSelectedArea(t)||this.clickOnElement(new e(this.mouseStartX,this.mouseStartY))?this.setMode(w.DRAG):(this.setMode(w.SELECT),this._cachedEvent.name="selectStart",this._eventEmitter.trigger("selectStart",[this._cachedEvent]))):this.setMode(w.SCALE)):this.setMode(w.ROTATE)},t.prototype.onMouseMove=function(t){this.currentMode===w.CREATE&&this.MouseDown?(this._cachedEvent.customData={startX:this.mouseStartX,startY:this.mouseStartY,endX:t.customData.x,endY:t.customData.y},this._eventEmitter.trigger("creating",[this._cachedEvent])):this.currentMode==w.DRAG?(this._cachedEvent.customData={startX:this.mouseStartX,startY:this.mouseStartY,endX:t.customData.x,endY:t.customData.y},this._eventEmitter.trigger("draging",[this._cachedEvent])):this.currentMode==w.ROTATE?(this._cachedEvent.customData={startX:this.mouseStartX,startY:this.mouseStartY,endX:t.customData.x,endY:t.customData.y},this._eventEmitter.trigger("rotating",[this._cachedEvent])):this.currentMode==w.SCALE?(this._cachedEvent.customData={startX:this.mouseStartX,startY:this.mouseStartY,endX:t.customData.x,endY:t.customData.y},this._eventEmitter.trigger("scaling",[this._cachedEvent])):this.MouseDown&&(this._cachedEvent.customData={startX:this.mouseStartX,startY:this.mouseStartY,endX:t.customData.x,endY:t.customData.y},this._eventEmitter.trigger("selectMove",[this._cachedEvent]))},t.prototype.onMouseUp=function(t){this.MouseDown=!1,this.currentMode===w.CREATE?this._eventEmitter.trigger("createEnd",[this._cachedEvent]):this.currentMode==w.SELECT?this._eventEmitter.trigger("selectEnd",[this._cachedEvent]):this.currentMode==w.ROTATE?this._eventEmitter.trigger("rotateEnd",[this._cachedEvent]):this.currentMode==w.DRAG?this._eventEmitter.trigger("dragEnd",[this._cachedEvent]):this.currentMode==w.SCALE&&this._eventEmitter.trigger("scaleEnd",[this._cachedEvent]),this.currentMode=w.SELECT},t.prototype.onSelectStart=function(t){},t.prototype.onSelectMove=function(t){},t.prototype.onSelectEnd=function(t){},t.prototype.onCreateElement=function(t){t.mouseEvent;var e=t.customData;switch(console.log(e.type),e.type){case x.RECT:var n=new v(e.startX,e.startY,0,0);this.svgcontent.append(n.domInstance),this.elements.push(n),this.setSelected([n]);break;case x.ELLIPSE:var o=new d(e.startX,e.startY,0,0);this.svgcontent.append(o.domInstance),this.elements.push(o),this.setSelected([o]);break;default:r.Error("error insert mode")}},t.prototype.onCreateMove=function(t){this.updateSelectionArea(),console.log(this.selection),this.container.className&&(this.container.className=""),console.log("handle create move..."),t.mouseEvent;var e=t.customData,n=[Math.abs(e.endX-e.startX),Math.abs(e.endY-e.startY)],o=n[0],r=n[1];console.log(o,r),this.selection[0].transform.a=o,this.selection[0].transform.d=r,this.selection[0].transform.e=Math.min(e.endX,e.startX),this.selection[0].transform.f=Math.min(e.endY,e.startY),this.selection[0].updateRendering()},t.prototype.onCreateEnd=function(t){console.log("create element end...")},t.prototype.onDragStart=function(t){this.selectionTransforms=this.selection.map((function(t){return t.transform.clone()}))},t.prototype.onDraging=function(t){var e=this,n=(t.mouseEvent,t.customData),o=n.startX,r=n.startY,i=n.endX,s=n.endY;this.selection.forEach((function(t,n){t.transform.e=e.selectionTransforms[n].e+i-o,t.transform.f=e.selectionTransforms[n].f+s-r,t.updateRendering()})),this.updateSelectionArea()},t.prototype.onDragEnd=function(t){},t.prototype.onRotateStart=function(t){this.selectionTransforms=this.selection.map((function(t){return t.transform.clone()})),this.lastSelectionArea=this.selectionArea.clone()},t.prototype.onRotating=function(t){var n=this,o=(t.mouseEvent,t.customData),r=o.startX,i=o.startY,s=o.endX,a=o.endY,c=this.lastSelectionArea.center(),h=new e(r-c.x,i-c.y),u=new e(s-c.x,a-c.y),p=h.angle(u),l=h.crossMultiply(u);p=l>0?p:2*Math.PI-p,this.selection.forEach((function(t,e){t.transform.copy(n.selectionTransforms[e].clone().rotate(p,c)),t.updateRendering()})),this.updateSelectionArea()},t.prototype.onRotateEnd=function(t){this.updateSelectionArea()},t.prototype.onScaleStart=function(t){this.lastFrameWidth=this.selection[0].frameWidth,this.lastFrameHeight=this.selection[0].frameHeight,this.selectionTransforms=this.selection.map((function(t){return t.transform.clone()})),this.lastSelectionArea=this.selectionArea.clone();var e=1,n=1;switch(this.mouseStatusManager.cornerType){default:case D.RB:break;case D.RT:n=-1;break;case D.LB:e=-1;break;case D.LT:e=n=-1}this.fx=e,this.fy=n},t.prototype.onScaling=function(t){var n=this,o=(t.mouseEvent,t.customData),r=o.startX,i=o.startY,s=o.endX,a=o.endY,c=new e(r,i),h=new e(s,a),u=this.fx,p=this.fy;if(1==this.selection.length){var l=this.selection[0],f=c.clone().applyTransform(this.selectionTransforms[0].inverse()),d=h.clone().applyTransform(this.selectionTransforms[0].inverse());d.subtract(f);var m=[u*d.x+1,p*d.y+1],y=m[0],g=m[1],v=[Math.max(Math.abs(y),.001),Math.max(Math.abs(g),.001)],b=v[0],E=v[1];y=y<0?-b:b,g=g<0?-E:E,l.transform.copy(this.selectionTransforms[0].clone().scale(y,g,new e(-1==u?1:0,-1==p?1:0))),l.updateRendering()}else{var _=[this.lastSelectionArea.box.w,this.lastSelectionArea.box.h],A=_[0],S=_[1],M=h.subtract(c),w=[u*M.x/A+1,p*M.y/S+1],x=w[0],C=w[1],T=[Math.max(Math.abs(x),.001),Math.max(Math.abs(C),.001)];b=T[0],E=T[1],x=x<0?-b:b,C=C<0?-E:E;var D=this.lastSelectionArea.box,O=new e(D.x,D.y).add(new e(-1==u?D.w:0,-1==p?D.h:0));this.selection.forEach((function(t,e){t.transform.copy(n.selectionTransforms[e].clone().scale2(x,C,O)),t.updateRendering()}))}this.updateSelectionArea()},t.prototype.onScaleEnd=function(t){this.updateSelectionArea()},t.prototype.onChangeMode=function(t){var e=t.customData;console.log("change mode:",e.mode),e.mode===w.SELECT?this.setSelected([]):this.currentMode===w.CREATE?this.container.className="cursor-crosshair":this.currentMode==w.DRAG?(this._cachedEvent.customData={transforms:this.selectionTransforms},this._eventEmitter.trigger("dragStart",[this._cachedEvent])):this.currentMode==w.ROTATE?(this._cachedEvent.customData={transforms:this.selectionTransforms},this._eventEmitter.trigger("rotateStart",[this._cachedEvent])):this.currentMode==w.SCALE&&(this._cachedEvent.customData={transforms:this.selectionTransforms},this._eventEmitter.trigger("scaleStart",[this._cachedEvent]))},t.prototype.onMouseStatusChange=function(t){},t.prototype.clickOnSelectedArea=function(t){return this.selectionArea.include(new e(t.customData.x,t.customData.y))},t.prototype.clickOnElement=function(t){var e=this.elements.sort((function(t,e){return t.zIndex>e.zIndex?1:-1})).find((function(e){return new s(new o(0,0,1,1),e.transform).include(t)}));return this.setSelected(e?[e]:[]),console.log("into function clickONElement"),e&&console.log("click on:",e.id),!!e},t.idPrefix="svg",t}();!function(t){t.SELECT="SELECT",t.DRAG="DRAG",t.ROTATE="ROTATE",t.SCALE="SCALE",t.CREATE="CREATE",t.DRAW="DRAW"}(w||(w={})),function(t){t.RECT="RECT",t.ELLIPSE="ELLIPsE",t.LINE="LINE"}(x||(x={})),function(t){t[t.CASUAL=0]="CASUAL",t[t.SCALE=1]="SCALE"}(C||(C={})),function(t){t.SELECT="SELECT",t.DRAG="DRAG",t.SCALE="SCALE",t.ROTATE="ROTATE"}(T||(T={})),function(t){t[t.LT=0]="LT",t[t.LM=1]="LM",t[t.LB=2]="LB",t[t.CT=3]="CT",t[t.CM=4]="CM",t[t.CB=5]="CB",t[t.RT=6]="RT",t[t.RM=7]="RM",t[t.RB=8]="RB"}(D||(D={}));var j=n(379),k=n.n(j),B=n(795),Y=n.n(B),X=n(569),I=n.n(X),N=n(565),U=n.n(N),z=n(216),G=n.n(z),H=n(589),Z=n.n(H),W=n(424),F={};F.styleTagTransform=Z(),F.setAttributes=U(),F.insert=I().bind(null,"head"),F.domAPI=Y(),F.insertStyleElement=G(),k()(W.Z,F),W.Z&&W.Z.locals&&W.Z.locals,console.log("entry index.ts"),new P(document.body)})()})();
//# sourceMappingURL=index.js.map